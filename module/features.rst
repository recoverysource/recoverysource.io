.. _features:

AAMod Features
==============

This page provides a list of features that are provided by AAMod.

Feature Types
-------------

- `Shortcodes`_ allow website editors to add content inside of markdown files.
- `Partials`_ are similar to ``Shortcodes``, but used inside of template files.
- Layouts are "top-level templates" that link content to template.

----

.. _aamod-reportlist:

Report List
-----------

**Generates a list of links from a directory of files.**

**Type:** ``Shortcode``

**Options:**

    - **base**: Prefixed to ``path`` before disk search (required)
    - **path**: Directory scanned for files and used for links (required)

**Usage:**

    .. code-block:: jinja

        Recent Reports:

        {{< report-list base="static" path="content/treasury/" >}}

**Demonstration:**
`Input <https://github.com/recoverysource/aamod/tree/master/exampleSite/static/reports/treasury>`__
->  `Output <https://aamod-demo.recoverysource.net/features/>`__

----

.. _aamod-meetingmap:

Meeting Map
-----------

**Generates an interactive google map plotted with meeting locations.**

This requires :ref:`mapapikey<apikey>` to be configured in site config.

**Type:** ``Shortcode``

**Options:**

    - **latitude**: Default map center latitude (default: 0)
    - **longitude**: Default map center longitude (default: 0)
    - **zoom**: Default map zoom level (default: 7)
    - **data**: Root data key with meeting information (default: "meetings")

**Usage:**

    .. code-block:: jinja

        {{< meeting-map zoom=7 latitude=43.536388 longitude=-96.731667 >}}

**Result:**

    .. image:: /static/images/aamod_usage/meeting-map.webp

**Demonstration:**
`Input <https://raw.githubusercontent.com/recoverysource/aamod/master/exampleSite/content/meetings/_index.md>`__
-> `Output <https://aamod-demo.recoverysource.net/meetings/>`__

----

.. _aamod-meetinglist:

Meeting List
------------

**Generates lists of all meetings.**

**Type:** ``Shortcode``

**Options:**

    - **mode**: Display format of meeting list (default: time)
    - **data**: Root data key with meeting information (default: "meetings")

      - ``time``, ``address``, ``interactive``

**Usage:**

    .. code-block:: jinja

        {{% meeting-list mode="time" %}}

**Demonstration:**
`Input <https://github.com/recoverysource/aamod/tree/master/exampleSite/data/meetings.yaml>`__
-> `Output <https://aamod-demo.recoverysource.net/meetings/>`__

----

.. _aamod-meetinginfo:

Meeting Info
-------------

**Display information about a meeting.**

This is primarily meant as "glue" that converts stubs, which were generated by
the :ref:`aamod-prebuild` process, into a display of information.

This requires :ref:`mapapikey<apikey>` to be configured in site config.

**Type:** ``Shortcode``

**Options:**

    - **meeting_id**: The ``shortcode`` (or ID) of the meeting (required)
    - **data**: Root data key with meeting information (default: "meetings")

**Usage:**

    .. code-block:: jinja

        {{< meeting-info meeting_id="risingtogether" >}}

**Demonstration:**
`Input <https://github.com/recoverysource/aamod/blob/master/exampleSite/data/meetings.yaml#L110>`__
-> `Output <https://aamod-demo.recoverysource.net/meetings/risingtogether/>`__

----

.. _aamod-meetingguide:

Meeting Guide
-------------

**Generates the JSON required for integration with :ref:`Meeting Guide<meeting-guide>`.**

**Type:** ``Shortcode``

**Options:**

    - **timezone**: Default timezone when not specified by meeting (default: Africa/Asmara)
    - **data**: Root data key with meeting information (default: "meetings")

**Usage:**

    .. code-block:: text

        # content/meeting-guide.md
        ---
        outputs: [json]
        url: "/meeting-guide.json"
        ---
        {{< meeting-guide timezone="America/Los_Angeles" >}}

**Result:** The example usage will create a json file at ``/meeting-guide.json``

**Demonstration:**
`Input <https://raw.githubusercontent.com/recoverysource/aamod/master/exampleSite/content/meeting-guide.md>`__
-> `Output <https://aamod-demo.recoverysource.net/meeting-guide.json>`__

----

.. _working with Hugo: https://gohugo.net/getting-started/quick-start/
.. _AAMod: https://github.com/recoverysource/aamod
.. _Shortcodes: https://jpdroege.com/blog/hugo-shortcodes-partials/
.. _Partials: https://gohugo.net/templates/partials/
